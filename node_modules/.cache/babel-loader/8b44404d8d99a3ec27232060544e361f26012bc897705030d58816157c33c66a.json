{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{loadStripe}from\"@stripe/stripe-js\";import{Elements}from\"@stripe/react-stripe-js\";import CheckoutForm from\"./CheckoutForm\";import CompletePage from\"./CompletePage\";import Modal from\"./Modal\";import\"./App.css\";import{HashRouter as Router,Route,Routes}from'react-router-dom';import{useParams}from'react-router-dom';// Make sure to call loadStripe outside of a component’s render to avoid\n// recreating the Stripe object on every render.\n// This is a public sample test API key.\n// Don’t submit any personally identifiable information in requests made with this key.\n// Sign in to see your own test API key embedded in code samples.\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const stripePromise=loadStripe(\"pk_test_51Q801tRpxgEVE539pBARC3D84A8MPZskWP4cyVuXZZOWGDVFmD2YF7pfZArK7jYymrTSZ4aGE2hlxKe0LLUUaHrI00NC71Qgaz\");export default function App(){const[clientSecret,setClientSecret]=useState(\"\");const[dpmCheckerLink,setDpmCheckerLink]=useState(\"\");const[isModalOpen,setIsModalOpen]=useState(true);const[pid,setPid]=useState(\"\");const appearance={theme:'stripe'};// Enable the skeleton loader UI for optimal loading.\nconst loader='auto';const path=window.location.pathname;useEffect(()=>{if(path==='/complete'){const search=window.location.search;setIsModalOpen(false);setClientSecret(new URLSearchParams(search).get('payment_intent_client_secret'));setPid(new URLSearchParams(search).get('payment_intent'));}},[]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[isModalOpen&&/*#__PURE__*/_jsx(Modal,{modal:{setIsModalOpen,setClientSecret,setDpmCheckerLink}}),clientSecret&&/*#__PURE__*/_jsx(Elements,{options:{clientSecret,appearance,loader},stripe:stripePromise,children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/checkout\",element:/*#__PURE__*/_jsx(CheckoutForm,{dpmCheckerLink:dpmCheckerLink})}),/*#__PURE__*/_jsx(Route,{path:\"/complete\",element:/*#__PURE__*/_jsx(CompletePage,{pid:pid})})]})})]})});}","map":{"version":3,"names":["React","useEffect","useState","loadStripe","Elements","CheckoutForm","CompletePage","Modal","HashRouter","Router","Route","Routes","useParams","jsx","_jsx","jsxs","_jsxs","stripePromise","App","clientSecret","setClientSecret","dpmCheckerLink","setDpmCheckerLink","isModalOpen","setIsModalOpen","pid","setPid","appearance","theme","loader","path","window","location","pathname","search","URLSearchParams","get","children","className","modal","options","stripe","element"],"sources":["/Users/hwarye/Documents/coding/sparta/final-project/project/stripe-front/src/App.jsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {loadStripe} from \"@stripe/stripe-js\";\nimport {Elements} from \"@stripe/react-stripe-js\";\nimport CheckoutForm from \"./CheckoutForm\";\nimport CompletePage from \"./CompletePage\";\nimport Modal from \"./Modal\";\nimport \"./App.css\";\nimport {HashRouter as Router, Route, Routes} from 'react-router-dom';\nimport {useParams} from 'react-router-dom';\n// Make sure to call loadStripe outside of a component’s render to avoid\n// recreating the Stripe object on every render.\n// This is a public sample test API key.\n// Don’t submit any personally identifiable information in requests made with this key.\n// Sign in to see your own test API key embedded in code samples.\nconst stripePromise = loadStripe(\"pk_test_51Q801tRpxgEVE539pBARC3D84A8MPZskWP4cyVuXZZOWGDVFmD2YF7pfZArK7jYymrTSZ4aGE2hlxKe0LLUUaHrI00NC71Qgaz\");\n\nexport default function App() {\n\n    const [clientSecret, setClientSecret] = useState(\"\");\n    const [dpmCheckerLink, setDpmCheckerLink] = useState(\"\");\n    const [isModalOpen, setIsModalOpen] = useState(true);\n    const [pid, setPid] = useState(\"\");\n    const appearance = {\n        theme: 'stripe',\n    };\n    // Enable the skeleton loader UI for optimal loading.\n    const loader = 'auto';\n    const path = window.location.pathname;\n\n    useEffect(() => {\n        if (path === '/complete') {\n            const search = window.location.search\n            setIsModalOpen(false)\n            setClientSecret(new URLSearchParams(search).get('payment_intent_client_secret'))\n            setPid(new URLSearchParams(search).get('payment_intent'));\n        }\n    }, []);\n    return (\n        <Router>\n            <div className=\"App\">\n                {isModalOpen && <Modal modal={{setIsModalOpen, setClientSecret, setDpmCheckerLink}} /> }\n                {clientSecret && (\n                    <Elements options={{clientSecret, appearance, loader}} stripe={stripePromise}>\n                        <Routes>\n                            <Route path=\"/checkout\" element={<CheckoutForm dpmCheckerLink={dpmCheckerLink}/>}/>\n                            <Route path=\"/complete\" element={<CompletePage pid={pid}/>}/>\n                        </Routes>\n                    </Elements>\n                )}\n            </div>\n        </Router>\n    )\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,OAAQC,UAAU,KAAO,mBAAmB,CAC5C,OAAQC,QAAQ,KAAO,yBAAyB,CAChD,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,WAAW,CAClB,OAAQC,UAAU,GAAI,CAAAC,MAAM,CAAEC,KAAK,CAAEC,MAAM,KAAO,kBAAkB,CACpE,OAAQC,SAAS,KAAO,kBAAkB,CAC1C;AACA;AACA;AACA;AACA;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,aAAa,CAAGd,UAAU,CAAC,6GAA6G,CAAC,CAE/I,cAAe,SAAS,CAAAe,GAAGA,CAAA,CAAG,CAE1B,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACmB,cAAc,CAAEC,iBAAiB,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACqB,WAAW,CAAEC,cAAc,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACuB,GAAG,CAAEC,MAAM,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAAAyB,UAAU,CAAG,CACfC,KAAK,CAAE,QACX,CAAC,CACD;AACA,KAAM,CAAAC,MAAM,CAAG,MAAM,CACrB,KAAM,CAAAC,IAAI,CAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAErChC,SAAS,CAAC,IAAM,CACZ,GAAI6B,IAAI,GAAK,WAAW,CAAE,CACtB,KAAM,CAAAI,MAAM,CAAGH,MAAM,CAACC,QAAQ,CAACE,MAAM,CACrCV,cAAc,CAAC,KAAK,CAAC,CACrBJ,eAAe,CAAC,GAAI,CAAAe,eAAe,CAACD,MAAM,CAAC,CAACE,GAAG,CAAC,8BAA8B,CAAC,CAAC,CAChFV,MAAM,CAAC,GAAI,CAAAS,eAAe,CAACD,MAAM,CAAC,CAACE,GAAG,CAAC,gBAAgB,CAAC,CAAC,CAC7D,CACJ,CAAC,CAAE,EAAE,CAAC,CACN,mBACItB,IAAA,CAACL,MAAM,EAAA4B,QAAA,cACHrB,KAAA,QAAKsB,SAAS,CAAC,KAAK,CAAAD,QAAA,EACfd,WAAW,eAAIT,IAAA,CAACP,KAAK,EAACgC,KAAK,CAAE,CAACf,cAAc,CAAEJ,eAAe,CAAEE,iBAAiB,CAAE,CAAE,CAAC,CACrFH,YAAY,eACTL,IAAA,CAACV,QAAQ,EAACoC,OAAO,CAAE,CAACrB,YAAY,CAAEQ,UAAU,CAAEE,MAAM,CAAE,CAACY,MAAM,CAAExB,aAAc,CAAAoB,QAAA,cACzErB,KAAA,CAACL,MAAM,EAAA0B,QAAA,eACHvB,IAAA,CAACJ,KAAK,EAACoB,IAAI,CAAC,WAAW,CAACY,OAAO,cAAE5B,IAAA,CAACT,YAAY,EAACgB,cAAc,CAAEA,cAAe,CAAC,CAAE,CAAC,CAAC,cACnFP,IAAA,CAACJ,KAAK,EAACoB,IAAI,CAAC,WAAW,CAACY,OAAO,cAAE5B,IAAA,CAACR,YAAY,EAACmB,GAAG,CAAEA,GAAI,CAAC,CAAE,CAAC,CAAC,EACzD,CAAC,CACH,CACb,EACA,CAAC,CACF,CAAC,CAEjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}