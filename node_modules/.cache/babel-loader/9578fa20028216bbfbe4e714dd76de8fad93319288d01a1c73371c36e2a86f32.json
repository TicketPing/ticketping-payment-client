{"ast":null,"code":"var _jsxFileName = \"/Users/hwarye/Documents/coding/sparta/final-project/project/stripe-front/src/Modal.jsx\",\n  _s = $RefreshSig$();\nimport { useContext, useState } from \"react\";\nimport PerformanceContext from \"./PerformanceContext\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Modal({\n  modal,\n  setPerformanceId,\n  setOrderId\n}) {\n  _s();\n  const {\n    setIsModalOpen,\n    setClientSecret,\n    setDpmCheckerLink\n  } = modal;\n  const {\n    SavePerformanceId\n  } = useContext(PerformanceContext);\n  const [performanceId, setPerformance] = useState(\"\");\n  const [orderId, setOrder] = useState(\"\");\n  const handleModalSubmit = () => {\n    console.log(performanceId);\n    console.log(orderId);\n    if (!performanceId) {\n      console.error(\"performanceId가 설정되지 않았습니다.\");\n    }\n    if (!orderId) {\n      console.error(\"orderId가 설정되지 않았습니다.\");\n      return; // orderId가 없으면 요청을 보내지 않음\n    }\n    //fetch(`http://3.36.73.221:10020/api/v1/payments/${orderId}`, {\n    //fetch(`http://localhost:8080/api/v1/payments/${orderId}`, {\n    fetch(`https://1741-122-203-225-229.ngrok-free.app/api/v1/payments/${orderId}?performanceId=${encodeURIComponent(performanceId)}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      setIsModalOpen(false);\n      setClientSecret(data.data.clientSecret);\n      setDpmCheckerLink(data.data.dpmCheckerLink);\n      setPerformanceId(performanceId);\n      setOrderId(orderId);\n    }).then(() => {\n      SavePerformanceId(performanceId);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uACF5\\uC5F0 ID \\uC785\\uB825\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"performance ID\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\"\n          // faec94ca-8583-4380-b0b5-6c6458abb220\n          ,\n          value: performanceId,\n          onChange: e => setPerformance(e.target.value),\n          className: \"custom-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uC0C1\\uD488 ID \\uC785\\uB825\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"order ID\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\"\n          // faec94ca-8583-4380-b0b5-6c6458abb220\n          ,\n          value: orderId,\n          onChange: e => setOrder(e.target.value),\n          className: \"custom-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleModalSubmit,\n          children: \"\\uD655\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(Modal, \"YT01uey4etnZrRAhAZM552LAc+8=\");\n_c = Modal;\nvar _c;\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["useContext","useState","PerformanceContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Modal","modal","setPerformanceId","setOrderId","_s","setIsModalOpen","setClientSecret","setDpmCheckerLink","SavePerformanceId","performanceId","setPerformance","orderId","setOrder","handleModalSubmit","console","log","error","fetch","encodeURIComponent","method","headers","then","res","json","data","clientSecret","dpmCheckerLink","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["/Users/hwarye/Documents/coding/sparta/final-project/project/stripe-front/src/Modal.jsx"],"sourcesContent":["import {useContext, useState} from \"react\";\nimport PerformanceContext from \"./PerformanceContext\";\n\nexport default function Modal({modal, setPerformanceId, setOrderId}) {\n    const {setIsModalOpen, setClientSecret, setDpmCheckerLink} = modal;\n    const { SavePerformanceId } = useContext(PerformanceContext);\n    const [performanceId, setPerformance] = useState(\"\")\n    const [orderId, setOrder] = useState(\"\")\n    const handleModalSubmit = () => {\n        console.log(performanceId);\n        console.log(orderId);\n        if (!performanceId) {\n            console.error(\"performanceId가 설정되지 않았습니다.\");\n        }\n        if (!orderId) {\n            console.error(\"orderId가 설정되지 않았습니다.\");\n            return; // orderId가 없으면 요청을 보내지 않음\n        }\n        //fetch(`http://3.36.73.221:10020/api/v1/payments/${orderId}`, {\n        //fetch(`http://localhost:8080/api/v1/payments/${orderId}`, {\n        fetch(`https://1741-122-203-225-229.ngrok-free.app/api/v1/payments/${orderId}?performanceId=${encodeURIComponent(performanceId)}`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        })\n            .then((res) => res.json())\n            .then((data) => {\n                setIsModalOpen(false);\n                setClientSecret(data.data.clientSecret);\n                setDpmCheckerLink(data.data.dpmCheckerLink);\n                setPerformanceId(performanceId);\n                setOrderId(orderId);\n            })\n            .then(() => {\n                SavePerformanceId(performanceId)\n                }\n            );\n    };\n    return <>\n        <div className=\"modal\">\n            <div className=\"modal-content\">\n                <h2>공연 ID 입력</h2>\n                <input\n                    type=\"text\"\n                    placeholder= \"performance ID를 입력하세요\"\n                    // faec94ca-8583-4380-b0b5-6c6458abb220\n                    value={performanceId}\n                    onChange={(e) => setPerformance(e.target.value)}\n                    className=\"custom-input\"\n                />\n                <h2>상품 ID 입력</h2>\n                <input\n                    type=\"text\"\n                    placeholder=\"order ID를 입력하세요\"\n                    // faec94ca-8583-4380-b0b5-6c6458abb220\n                    value={orderId}\n                    onChange={(e) => setOrder(e.target.value)}\n                    className=\"custom-input\"\n                />\n                <br></br>\n                <button onClick={handleModalSubmit}>확인</button>\n            </div>\n        </div>\n    </>\n}\n\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}